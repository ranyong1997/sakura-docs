---
date: "2021/12/14"
categories: [服务端]
tag: [Node,持续运行]
---


# 在linux中持续运行Node.js文件

## 为什么要持续运行：

> nodejs服务在关闭会话窗口后依然运行
>
> 我们在运行一个nodejs的http创建的服务器后，如果中断这个命令，或者关闭当前会话窗口，都会使得服务器停止运行，在浏览器中输入地址也没有意义了，我们也不能一直开着这个窗口，所以得需要一些其他的模块的帮助，来让nodejs开启的服务器后台运行或者关闭窗口后依然运行。

## 步骤：

通过第三方模块pm2管理nodejs进程
需要先把它安装在全局：

```shell
npm i pm2 -g
```

进入项目文件夹， 我的文件名是app.js，所以：

```shell
pm2 start node app.js
```

 来启动服务器。

启动成功，这个时候服务器进入了后台进程中，关闭窗口或者执行其他命令都不会受影响，在浏览器输入ip:port可以看到服务器依然在运行。
可以通过pm2 list命令来查看有哪些nodejs的进程在运行，然后用`pm2 stop +App name`来停止这个进程。